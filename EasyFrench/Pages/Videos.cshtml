@page
@model EasyFrench.Pages.VideosModel
@{
    ViewData["Title"] = "Videos";
    Layout = "~/Pages/Shared/_Layout.cshtml";
    var current_title = ViewBag.current_title;
    var current_video = Model.IDs.IndexOf(ViewBag.current_video);

    var next_video = current_video + 1;
    var previous_video = current_video - 1;
    var current_video_count = next_video;

    if(previous_video == -1)
    {
        previous_video = 19;
    }
    if(next_video == 20)
    {
        next_video = 0;
    }
}

<div style="text-align:center;">
    @if(Model.Message != null)
    {

    <div id="@Model.cssClass" class="level" style="width:100%;">
        <p class="heading3">
            @Model.Level.Title (@Model.Level.Title) > @Model.Topic.TitleEnglish (@Model.Topic.TitleFrench) > Videos
        </p>
            <div>
                <p class="heading2">@current_title [@current_video_count out of 20 ]</p> <br />
                <div class="row">

            <div class="column side">

                <a asp-page="./Videos" asp-route-levelId="@Model.Level.ID"

                   asp-route-topicId="@Model.Topic.ID" asp-route-search="FRENCH @Model.Topic.TitleEnglish"

                   asp-route-cssclass="@Model.cssClass" asp-route-video="@previous_video">

                    <span class="button button0">Previous</span>



                </a>

            </div>

            <div class="column middle">

                <iframe width="580"

                        height="400"

                        src="@ViewBag.current_video"

                        frameborder="0"

                        allowfullscreen></iframe>

            </div>

            <div class="column side">

                <a asp-page="./Videos" asp-route-levelId="@Model.Level.ID"

                   asp-route-topicId="@Model.Topic.ID" asp-route-search="FRENCH @Model.Topic.TitleEnglish"

                   asp-route-cssclass="@Model.cssClass" asp-route-video="@next_video">

                    <span class=" button button0">Next</span>

                </a>



            </div>

        </div>
            </div>
    </div>
    }
    else
    {
        <div> <p class="heading">Please Connect the Internet!</p></div>
    }
</div>

